!function(e){var r={};function t(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var s in e)t.d(a,s,function(r){return e[r]}.bind(null,s));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=0)}([function(e,r,t){t(1),e.exports=t(2)},function(e,r){$(document).ready((function(){setTimeout((function(){$("#alertMessage").slideUp("slow")}),5e3),$("#userTable").DataTable(),$("#dailyDiscountRedeemedForm #discount").on("change",(function(e){e.preventDefault(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#dailyDiscountRedeemedForm #saveForm").html("Searching.."),$("#dailyDiscountRedeemedForm #saveForm").attr("disabled",!0),$.ajax({url:$("#dailyDiscountRedeemedForm #discountUserSearchUrl").text(),type:"GET",data:$("#dailyDiscountRedeemedForm").serialize(),success:function(e){console.log(e),$("#dailyDiscountRedeemedForm #saveForm").html("Save"),$("#dailyDiscountRedeemedForm #response").show(),$("#dailyDiscountRedeemedForm #alert").show(),$("#dailyDiscountRedeemedForm #response").html(e.message),$("#dailyDiscountRedeemedForm #alert").removeClass("d-none"),!0===e.status?($("#dailyDiscountRedeemedForm #alert").addClass("alert-success"),$("#dailyDiscountRedeemedForm #lastname").val(e.data),$("#dailyDiscountRedeemedForm #saveForm").attr("disabled",!1)):($("#dailyDiscountRedeemedForm #alert").addClass("alert-danger"),$("#dailyDiscountRedeemedForm #lastname").val(""),$("#dailyDiscountRedeemedForm #saveForm").attr("disabled",!1)),setTimeout((function(){$("#dailyDiscountRedeemedForm #response").hide(),$("#dailyDiscountRedeemedForm #alert").hide(),$("#dailyDiscountRedeemedForm #alert").addClass("d-none"),$("#dailyDiscountRedeemedForm #alert").removeClass("alert-success"),$("#dailyDiscountRedeemedForm #alert").removeClass("alert-danger")}),3e3)}})})),jQuery.validator.addMethod("emailCustom",(function(e,r,t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}),"Please enter a valid email address."),$("#memberSignupForm").validate({rules:{first_name:{required:!0,minlength:2},last_name:{required:!0,minlength:2},package:"required",email:{required:!0,email:!0,emailCustom:!0},confirm_email:{required:!0,equalTo:"#email"},newsletter:"required"},messages:{first_name:{required:"Please enter your first name",minlength:"Length at least two character long"},last_name:{required:"Please enter your last name",minlength:"Length at least two character long"},package:"Please select a package first",email:"Please enter a valid email address",confirm_email:{required:"Please enter a valid email address",equalTo:"Please enter the same email as above"},newsletter:"Please check newsletter option"},submitHandler:function(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#memberSignupForm #signUpButton").html("Submitting.."),$("#memberSignupForm #signUpButton").attr("disabled",!0),$.ajax({url:$("#memberSignupForm #memberSignUpUrl").text(),type:"POST",data:$("#memberSignupForm").serialize(),success:function(e){if($("#memberSignupForm #signUpButton").html("Submit"),$("#memberSignupForm #response").show(),$("#memberSignupForm #alert").show(),"Validation error"===e.message){var r='<ul class="error-list">';$.each(e.data,(function(e,t){r+="<li>",r+=t,r+="</li>"})),$("#memberSignupForm #response").html(r)}else $("#memberSignupForm #response").html(e.message);$("#memberSignupForm #alert").removeClass("d-none"),!0===e.status?($("#memberSignupForm #signUpButton").attr("disabled",!1),$("#memberSignupForm #alert").addClass("alert-success"),document.getElementById("memberSignupForm").reset()):($("#memberSignupForm #signUpButton").attr("disabled",!1),$("#memberSignupForm #alert").addClass("alert-danger")),setTimeout((function(){$("#memberSignupForm #response").hide(),$("#memberSignupForm #alert").hide(),$("#memberSignupForm #alert").addClass("d-none"),$("#memberSignupForm #alert").removeClass("alert-success"),$("#memberSignupForm #alert").removeClass("alert-danger")}),5e3)}})}}),jQuery.validator.addMethod("passwordCustom",(function(e,r,t){return/^.*(?=.{3,})(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[\d\X])(?=.*[!$#%]).*$/.test(e)}),"Please fullfill the password criteria."),$("#userCreateForm").validate({rules:{name:"required",email:{required:!0,email:!0,emailCustom:!0},password:{required:!0,minlength:5,passwordCustom:!0},confirm_password:{required:!0,minlength:5,equalTo:"#password",passwordCustom:!0},role:"required"},messages:{name:"Please enter a name",email:"Please enter a valid email address",password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},password_confirmation:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"},role:"Please select a role"}}),$("#passwordResetForm").validate({rules:{email:{required:!0,email:!0,emailCustom:!0},password:{required:!0,minlength:5,passwordCustom:!0},confirm_password:{required:!0,minlength:5,equalTo:"#password",passwordCustom:!0}},messages:{email:"Please enter a valid email address",password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},password_confirmation:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"}}}),$("#reprintForm").validate({rules:{discount:{required:"#email:blank",digits:!0},email:{required:"#discount:blank"}},messages:{discount:"Please enter your Discount ID",email:"Please enter a valid email address"},submitHandler:function(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#reprintForm #sendButton").html("Sending.."),$("#reprintForm #sendButton").attr("disabled",!0),$.ajax({url:$("#reprintForm #reprintUrl").text(),type:"POST",data:$("#reprintForm").serialize(),success:function(e){if(console.log(e),$("#reprintForm #sendButton").html("Send"),$("#reprintForm #response").show(),$("#reprintForm #alert").show(),"Validation error"===e.message){var r='<ul class="error-list">';$.each(e.data,(function(e,t){r+="<li>",r+=t,r+="</li>"})),$("#reprintForm #response").html(r)}else $("#reprintForm #response").html(e.message);$("#reprintForm #alert").removeClass("d-none"),!0===e.status?($("#reprintForm #sendButton").attr("disabled",!1),$("#reprintForm #alert").addClass("alert-success"),document.getElementById("reprintForm").reset()):($("#reprintForm #sendButton").attr("disabled",!1),$("#reprintForm #alert").addClass("alert-danger")),setTimeout((function(){$("#reprintForm #response").hide(),$("#reprintForm #alert").hide(),$("#reprintForm #alert").addClass("d-none"),$("#reprintForm #alert").removeClass("alert-success"),$("#reprintForm #alert").removeClass("alert-danger")}),5e3)}})}}),$("#dailyDiscountRedeemedForm").validate({rules:{date:"required",discount:{required:!0,digits:!0},phone:{required:!1},lastname:{required:!1}},messages:{date:"Please select a date first",discount:"Please enter Discount ID",phone:"Please check this if device is phone",lastname:"Please enter customer Last Name"},submitHandler:function(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#dailyDiscountRedeemedForm #saveForm").html("Sending.."),$.ajax({url:$("#dailyDiscountRedeemedForm #discountUrl").text(),type:"POST",data:$("#dailyDiscountRedeemedForm").serialize(),success:function(e){if($("#dailyDiscountRedeemedForm #saveForm").html("Save"),$("#dailyDiscountRedeemedForm #response").show(),$("#dailyDiscountRedeemedForm #alert").show(),"Validation error"===e.message){var r='<ul class="error-list">';$.each(e.data,(function(e,t){r+="<li>",r+=t,r+="</li>"})),$("#dailyDiscountRedeemedForm #response").html(r)}else $("#dailyDiscountRedeemedForm #response").html(e.message);$("#dailyDiscountRedeemedForm #alert").removeClass("d-none"),!0===e.status?$("#dailyDiscountRedeemedForm #alert").addClass("alert-success"):$("#dailyDiscountRedeemedForm #alert").addClass("alert-danger"),setTimeout((function(){$("#dailyDiscountRedeemedForm #discount").val(""),$("#dailyDiscountRedeemedForm #lastname").val(""),$("#dailyDiscountRedeemedForm #phone").prop("checked",!1),$("#dailyDiscountRedeemedForm #response").hide(),$("#dailyDiscountRedeemedForm #alert").hide(),$("#dailyDiscountRedeemedForm #alert").addClass("d-none"),$("#dailyDiscountRedeemedForm #alert").removeClass("alert-success"),$("#dailyDiscountRedeemedForm #alert").removeClass("alert-danger")}),5e3)}})}}),$("#customerRecordInquiryForm").validate({rules:{type:{required:!1},discount:{required:!1,digits:!0}},messages:{discount:"Please enter customer Discount ID"},submitHandler:function(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#search").click((function(e){e.preventDefault(),$("#search").html("Searching.."),$.ajax({url:$("#customerRecordUrl").text(),type:"POST",data:$("#customerRecordInquiryForm").serialize()+"&button_type=search",success:function(e){if($("#customerRecordInquiryForm #search").html("Search"),$("#customerRecordInquiryForm #response").show(),$("#customerRecordInquiryForm #alert").show(),"Validation error"===e.message){var r='<ul class="error-list">';$.each(e.data,(function(e,t){r+="<li>",r+=t,r+="</li>"})),$("#customerRecordInquiryForm #response").html(r)}else $("#customerRecordInquiryForm #response").html(e.message);if($("#customerRecordInquiryForm #alert").removeClass("d-none"),!0===e.status){$("#customerRecordInquiryForm #alert").addClass("alert-success"),$("#customerRecordInquiryForm #firstName").val(e.data.first_name),$("#customerRecordInquiryForm #lastName").val(e.data.last_name),$("#customerRecordInquiryForm #emailAddress").val(e.data.email),$("#customerRecordInquiryForm #memeberId").val(e.data.id),$("#customerRecordInquiryForm #type").val(e.data.membership_type);var t=e.data.discount_id.toString();t.length<4&&(t="0"+t),$("#customerRecordInquiryForm #discount").val(t)}else $("#customerRecordInquiryForm #alert").addClass("alert-danger");setTimeout((function(){$("#customerRecordInquiryForm #response").hide(),$("#customerRecordInquiryForm #alert").hide(),$("#customerRecordInquiryForm #alert").addClass("d-none"),$("#customerRecordInquiryForm #alert").removeClass("alert-success"),$("#customerRecordInquiryForm #alert").removeClass("alert-danger")}),5e3)}})})),$("#customerRecordInquiryForm #save").click((function(e){e.preventDefault(),$("#customerRecordInquiryForm #save").html("Saving..."),$.ajax({url:$("#customerRecordUrl").text(),type:"POST",data:$("#customerRecordInquiryForm").serialize()+"&button_type=save",success:function(e){if($("#customerRecordInquiryForm #save").html("Save"),$("#customerRecordInquiryForm #response").show(),$("#customerRecordInquiryForm #alert").show(),"Validation error"===e.message){var r='<ul class="error-list">';$.each(e.data,(function(e,t){r+="<li>",r+=t,r+="</li>"})),$("#customerRecordInquiryForm #response").html(r)}else $("#customerRecordInquiryForm #response").html(e.message);$("#customerRecordInquiryForm #alert").removeClass("d-none"),!0===e.status?$("#customerRecordInquiryForm #alert").addClass("alert-success"):$("#customerRecordInquiryForm #alert").addClass("alert-danger"),setTimeout((function(){$("#customerRecordInquiryForm #response").hide(),$("#customerRecordInquiryForm #alert").hide(),$("#customerRecordInquiryForm #alert").addClass("d-none"),$("#customerRecordInquiryForm #alert").removeClass("alert-success"),$("#customerRecordInquiryForm #alert").removeClass("alert-danger")}),5e3)}})})),$("#customerRecordInquiryForm #delete").click((function(e){e.preventDefault(),swal({title:"Are you sure?",text:"Please confirm that you wish to delete this record by pressing Delete again!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){$("#customerRecordInquiryForm #delete").html("Deleting..."),$.ajax({url:$("#customerRecordUrl").text(),type:"POST",data:$("#customerRecordInquiryForm").serialize()+"&button_type=delete",success:function(r){if($("#customerRecordInquiryForm #delete").html("Delete"),!0===r.status)e&&(swal("Deleted!",{icon:"success"}),document.getElementById("customerRecordInquiryForm").reset());else{if(swal("Discount number is not deleted!",{icon:"error"}),$("#customerRecordInquiryForm #response").show(),$("#customerRecordInquiryForm #alert").show(),"Validation error"===r.message){var t='<ul class="error-list">';$.each(r.data,(function(e,r){t+="<li>",t+=r,t+="</li>"})),$("#customerRecordInquiryForm #response").html(t)}else $("#customerRecordInquiryForm #response").html(r.message);$("#customerRecordInquiryForm #alert").removeClass("d-none"),$("#customerRecordInquiryForm #alert").addClass("alert-danger"),setTimeout((function(){$("#customerRecordInquiryForm #response").hide(),$("#customerRecordInquiryForm #alert").hide(),$("#customerRecordInquiryForm #alert").addClass("d-none"),$("#customerRecordInquiryForm #alert").removeClass("alert-success"),$("#customerRecordInquiryForm #alert").removeClass("alert-danger")}),5e3)}}})}))}))}});new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());var e=new Date,r=e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0");$("#dateused").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",value:r,disableDates:function(e){return e<new Date}}),$("#dailyDate").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",disableDates:function(e){return e<new Date}}),$("#fromDate").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",maxDate:function(){return $("#toDate").val()},disableDates:function(e){return e<new Date}}),$("#toDate").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",minDate:function(){return $("#fromDate").val()},disableDates:function(e){return e<new Date}})}))},function(e,r){}]);