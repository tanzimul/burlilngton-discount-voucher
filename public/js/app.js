!function(e){var t={};function r(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){r(1),e.exports=r(2)},function(e,t){$(document).ready((function(){function e(e,t,r){var a='<div class="alert alert-success alert-dismissible mt-4">';a+='<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>',a+="<strong>"+e.message+"</strong>",a+="</div>",$(t+" #message").html(a),$(r).attr("disabled",!1)}function t(e,t,r){var a='<div class="alert alert-danger alert-dismissible mt-4">';if(a+='<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>',"Validation error"===e.message){var s="<ol>";$.each(e.data,(function(e,t){s+="<li>",s+=t,s+="</li>"})),a+="<strong>"+(s+="</ol>")+"</strong>"}else a+="<strong>"+e.message+"</strong>";a+="</div>",$(t+" #message").html(a),$(r).attr("disabled",!1)}setTimeout((function(){$("#alertMessage").slideUp("slow")}),5e3),$("#userTable").DataTable(),$("#dailyDiscountRedeemedForm #discount").on("change",(function(r){r.preventDefault(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#dailyDiscountRedeemedForm #saveForm").html("Searching.."),$("#dailyDiscountRedeemedForm #saveForm").attr("disabled",!0),$.ajax({url:$("#dailyDiscountRedeemedForm #discountUserSearchUrl").text(),type:"GET",data:$("#dailyDiscountRedeemedForm").serialize(),success:function(r){$("#dailyDiscountRedeemedForm #saveForm").html("Save");var a="#dailyDiscountRedeemedForm",s="#dailyDiscountRedeemedForm #saveForm";!0===r.status?(e(r,a,s),$("#dailyDiscountRedeemedForm #lastname").val(r.data)):t(r,a,s)}})})),$("#dailyDiscountRedeemedForm").validate({rules:{date:"required",discount:{required:!0,digits:!0},phone:{required:!1},lastname:{required:!1}},messages:{date:"Please select a date first",discount:"Please enter Discount ID",phone:"Please check this if device is phone",lastname:"Please enter customer Last Name"},submitHandler:function(r){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#dailyDiscountRedeemedForm #saveForm").html("Sending.."),$.ajax({url:$("#dailyDiscountRedeemedForm #discountUrl").text(),type:"POST",data:$("#dailyDiscountRedeemedForm").serialize(),success:function(r){$("#dailyDiscountRedeemedForm #saveForm").html("Save");var a="#dailyDiscountRedeemedForm",s="#dailyDiscountRedeemedForm #saveForm";!0===r.status?(e(r,a,s),$("#dailyDiscountRedeemedForm #discount").val(""),$("#dailyDiscountRedeemedForm #lastname").val(""),$("#dailyDiscountRedeemedForm #phone").prop("checked",!1)):t(r,a,s)}})}}),jQuery.validator.addMethod("emailCustom",(function(e,t,r){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}),"Please enter a valid email address."),$("#memberSignupForm").validate({rules:{first_name:{required:!0,minlength:2},last_name:{required:!0,minlength:2},package:"required",email:{required:!0,email:!0,emailCustom:!0},confirm_email:{required:!0,equalTo:"#email"},newsletter:"required"},messages:{first_name:{required:"Please enter your first name",minlength:"Length at least two character long"},last_name:{required:"Please enter your last name",minlength:"Length at least two character long"},package:"Please select a package first",email:"Please enter a valid email address",confirm_email:{required:"Please enter a valid email address",equalTo:"Please enter the same email as above"},newsletter:"Please check newsletter option"},submitHandler:function(r){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#memberSignupForm #signUpButton").html("Submitting.."),$("#memberSignupForm #signUpButton").attr("disabled",!0),$.ajax({url:$("#memberSignupForm #memberSignUpUrl").text(),type:"POST",data:$("#memberSignupForm").serialize(),success:function(r){$("#memberSignupForm #signUpButton").html("Submit");var a="#memberSignupForm #signUpButton";!0===r.status?(e(r,"#memberSignupForm",a),document.getElementById("memberSignupForm").reset()):t(r,"#memberSignupForm",a)}})}}),jQuery.validator.addMethod("passwordCustom",(function(e,t,r){return/^.*(?=.{3,})(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[\d\X])(?=.*[!$#%]).*$/.test(e)}),"Please fullfill the password criteria."),$("#userCreateForm").validate({rules:{name:"required",email:{required:!0,email:!0,emailCustom:!0},password:{required:!0,minlength:5,passwordCustom:!0},confirm_password:{required:!0,minlength:5,equalTo:"#password",passwordCustom:!0},role:"required"},messages:{name:"Please enter a name",email:"Please enter a valid email address",password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},password_confirmation:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"},role:"Please select a role"}}),$("#passwordResetForm").validate({rules:{email:{required:!0,email:!0,emailCustom:!0},password:{required:!0,minlength:5,passwordCustom:!0},confirm_password:{required:!0,minlength:5,equalTo:"#password",passwordCustom:!0}},messages:{email:"Please enter a valid email address",password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},password_confirmation:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"}}}),$("#reprintForm").validate({rules:{discount:{required:"#email:blank",digits:!0},email:{required:"#discount:blank"}},messages:{discount:"Please enter your Discount ID",email:"Please enter a valid email address"},submitHandler:function(r){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#reprintForm #sendButton").html("Sending.."),$("#reprintForm #sendButton").attr("disabled",!0),$.ajax({url:$("#reprintForm #reprintUrl").text(),type:"POST",data:$("#reprintForm").serialize(),success:function(r){$("#reprintForm #sendButton").html("Send");var a="#reprintForm #sendButton";!0===r.status?(e(r,"#reprintForm",a),document.getElementById("reprintForm").reset()):t(r,"#reprintForm",a)}})}}),$("#customerRecordInquiryForm").validate({rules:{type:{required:!1},discount:{required:!1,digits:!0}},messages:{discount:"Please enter customer Discount ID"},submitHandler:function(r){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#search").click((function(r){r.preventDefault(),$("#search").html("Searching.."),$.ajax({url:$("#customerRecordUrl").text(),type:"POST",data:$("#customerRecordInquiryForm").serialize()+"&button_type=search",success:function(r){$("#customerRecordInquiryForm #search").html("Search");var a="#customerRecordInquiryForm",s="#customerRecordInquiryForm #search";if(!0===r.status){e(r,a,s),$("#customerRecordInquiryForm #firstName").val(r.data.first_name),$("#customerRecordInquiryForm #lastName").val(r.data.last_name),$("#customerRecordInquiryForm #emailAddress").val(r.data.email),$("#customerRecordInquiryForm #memeberId").val(r.data.id),$("#customerRecordInquiryForm #type").val(r.data.membership_type);var o=r.data.discount_id.toString();o.length<4&&(o="0"+o),$("#customerRecordInquiryForm #discount").val(o)}else t(r,a,s)}})})),$("#customerRecordInquiryForm #save").click((function(r){r.preventDefault(),$("#customerRecordInquiryForm #save").html("Saving..."),$.ajax({url:$("#customerRecordUrl").text(),type:"POST",data:$("#customerRecordInquiryForm").serialize()+"&button_type=save",success:function(r){$("#customerRecordInquiryForm #save").html("Save");var a="#customerRecordInquiryForm",s="#customerRecordInquiryForm #save";!0===r.status?e(r,a,s):t(r,a,s)}})})),$("#customerRecordInquiryForm #delete").click((function(r){r.preventDefault(),swal({title:"Are you sure?",text:"Please confirm that you wish to delete this record by pressing Delete again!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(r){$("#customerRecordInquiryForm #delete").html("Deleting..."),$.ajax({url:$("#customerRecordUrl").text(),type:"POST",data:$("#customerRecordInquiryForm").serialize()+"&button_type=delete",success:function(a){$("#customerRecordInquiryForm #delete").html("Delete");var s="#customerRecordInquiryForm",o="#customerRecordInquiryForm #save";!0===a.status?(e(a,s,o),r&&(swal("Deleted!",{icon:"success"}),document.getElementById("customerRecordInquiryForm").reset())):(t(a,s,o),swal("Discount number is not deleted!",{icon:"error"}))}})}))}))}});new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());var r=new Date,a=r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0");$("#dateused").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",value:a,disableDates:function(e){return e<new Date}}),$("#dailyDate").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",disableDates:function(e){return e<new Date}}),$("#fromDate").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",maxDate:function(){return $("#toDate").val()},disableDates:function(e){return e<new Date}}),$("#toDate").datepicker({uiLibrary:"bootstrap4",format:"yyyy-mm-dd",minDate:function(){return $("#fromDate").val()},disableDates:function(e){return e<new Date}})}))},function(e,t){}]);